(()=>{"use strict";var e={885:(e,t,s)=>{var o=s(751),a=s(641),r=s(953),l=s(33),n=s(292),i=s(769),u=s(560),c=s(30),d=s(297),m=s(346),p=s(126),v=s(600),y=s(327),x=s(221),g=s(839),k=s(957),f=s(432),b=s.n(f),h=s(602);const w="workout-timer-db",L=1,C="workouts",R=(0,h.P2)(w,L,{upgrade(e){e.objectStoreNames.contains(C)||e.createObjectStore(C,{keyPath:"id"})}});async function E(e){const t={...e,sets:e.sets.map((e=>({...e,id:String(e.id),restTime:Number(e.restTime),..."exercise"===e.type?{reps:Number(e.reps),count:Number(e.count)}:{}})))},s=await R;await s.put(C,t)}async function A(){const e=await R,t=await e.getAll(C);return t.map((e=>({...e,sets:e.sets.map((e=>({...e,restTime:Number(e.restTime),..."exercise"===e.type?{reps:Number(e.reps),count:Number(e.count)}:{}})))})))}async function S(e){const t=await R;await t.delete(C,e)}function F(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const T={class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4"},_={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden"},X={class:"px-6 py-4 border-b border-gray-200"},I={class:"flex items-center justify-between"},W={class:"text-xl font-display font-semibold"},j={class:"px-6 py-4 max-h-[calc(90vh-8rem)] overflow-y-auto"},M={class:"mb-6"},K={class:"space-y-4"},$={class:"bg-gray-50 p-4 rounded-lg relative group"},N={class:"drag-handle absolute left-2 top-1/2 -translate-y-1/2 cursor-move text-gray-400"},O={key:0,class:"ml-8 flex items-center gap-4"},U={class:"flex-grow"},V={class:"flex items-center gap-2"},D={class:"flex-1 grid grid-cols-2 gap-2"},P={class:"relative"},Q=["onUpdate:modelValue","onInput"],J={class:"absolute right-1 top-1 bottom-1 flex flex-col"},B=["onClick"],q=["onClick"],G={class:"relative"},z=["onUpdate:modelValue","onInput"],Y={class:"absolute right-1 top-1 bottom-1 flex flex-col"},H=["onClick"],Z=["onClick"],ee=["onClick"],te={key:1,class:"ml-8 space-y-4 relative pb-10"},se=["onUpdate:modelValue"],oe={class:"space-y-4 sm:space-y-0 sm:grid sm:grid-cols-8 sm:gap-4"},ae={class:"grid grid-cols-2 gap-4 sm:contents"},re={class:"sm:col-span-2"},le={class:"relative sm:w-full"},ne=["onUpdate:modelValue"],ie={class:"absolute right-1 top-1 bottom-1 flex flex-col"},ue=["onClick"],ce=["onClick"],de={class:"sm:col-span-2"},me={class:"relative sm:w-full"},pe=["onUpdate:modelValue"],ve={class:"absolute right-1 top-1 bottom-1 flex flex-col"},ye=["onClick"],xe=["onClick"],ge={class:"sm:col-span-4"},ke={class:"flex items-center gap-2"},fe={class:"flex-1 grid grid-cols-2 gap-2"},be={class:"relative"},he=["onUpdate:modelValue","onInput"],we={class:"absolute right-1 top-1 bottom-1 flex flex-col"},Le=["onClick"],Ce=["onClick"],Re={class:"relative"},Ee=["onUpdate:modelValue","onInput"],Ae={class:"absolute right-1 top-1 bottom-1 flex flex-col"},Se=["onClick"],Fe=["onClick"],Te={class:"absolute bottom-0 right-0 flex gap-2"},_e=["onClick"],Xe=["onClick"],Ie={class:"flex gap-4"},We={class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},je={__name:"WorkoutEditor",props:{workout:{type:Object,required:!0}},emits:["save","close"],setup(e,{emit:t}){const s=e,n=t,i=(0,r.KR)({...s.workout,sets:s.workout.sets.map((e=>({...e,type:e.type||"exercise"})))}),c=(0,r.KR)({});(0,a.wB)((()=>i.value.sets),(e=>{e.forEach((e=>{c.value[e.id]||(c.value[e.id]={minutes:Math.floor(e.restTime/60),seconds:e.restTime%60})}))}),{immediate:!0});const d=e=>{const t=c.value[e.id];t.minutes=Math.max(0,parseInt(t.minutes)||0),t.seconds=Math.min(59,Math.max(0,parseInt(t.seconds)||0)),e.restTime=60*t.minutes+t.seconds},p=(e,t,s)=>{const o=c.value[e.id];"minutes"===t?o.minutes=Math.max(0,o.minutes+s):(o.seconds=(o.seconds+s+60)%60,o.seconds<0&&(o.seconds=45),o.seconds>45&&(o.seconds=0)),d(e)},f=()=>{const e=Date.now();i.value.sets.push({id:e,type:"exercise",name:"",reps:1,count:1,restTime:30}),c.value[e]={minutes:0,seconds:30}},h=()=>{const e=Date.now();i.value.sets.push({id:e,type:"rest",restTime:60}),c.value[e]={minutes:1,seconds:0}},w=e=>{const t=i.value.sets[e];delete c.value[t.id],i.value.sets.splice(e,1)},L=e=>{const t=i.value.sets[e],s={...t,id:Date.now(),name:`${t.name} (copy)`};c.value[s.id]={minutes:Math.floor(s.restTime/60),seconds:s.restTime%60},i.value.sets.splice(e+1,0,s)},C=async()=>{const e={id:i.value.id,name:i.value.name,sets:i.value.sets.map((e=>"rest"===e.type?{id:e.id,type:"rest",restTime:Number(e.restTime)}:{id:e.id,type:"exercise",name:e.name,reps:Number(e.reps),count:Number(e.count),restTime:Number(e.restTime)}))};await E(e),n("save",e)};return(t,s)=>((0,a.uX)(),(0,a.CE)("div",T,[(0,a.Lk)("div",_,[(0,a.Lk)("div",X,[(0,a.Lk)("div",I,[(0,a.Lk)("h2",W,(0,l.v_)(e.workout.name?"Edit Workout":"New Workout"),1),(0,a.Lk)("button",{onClick:s[0]||(s[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-500"},[(0,a.bF)((0,r.R1)(v.A),{class:"h-6 w-6"})])])]),(0,a.Lk)("div",j,[(0,a.Lk)("div",M,[s[4]||(s[4]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Workout Name ",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>i.value.name=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter workout name"},null,512),[[o.Jo,i.value.name]])]),(0,a.Lk)("div",K,[(0,a.bF)((0,r.R1)(b()),{modelValue:i.value.sets,"onUpdate:modelValue":s[2]||(s[2]=e=>i.value.sets=e),"item-key":"id",handle:".drag-handle",animation:200,"ghost-class":"ghost-item","drag-class":"dragging-item",class:"space-y-4"},{item:(0,a.k6)((({element:e,index:t})=>[(0,a.Lk)("div",$,[(0,a.Lk)("div",N,[(0,a.bF)((0,r.R1)(y.A),{class:"h-5 w-5"})]),"rest"===e.type?((0,a.uX)(),(0,a.CE)("div",O,[(0,a.Lk)("div",U,[s[7]||(s[7]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Rest Time ",-1)),(0,a.Lk)("div",V,[(0,a.Lk)("div",D,[(0,a.Lk)("div",P,[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t=>c.value[e.id].minutes=t,min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",onInput:t=>d(e)},null,40,Q),[[o.Jo,c.value[e.id].minutes]]),(0,a.Lk)("div",J,[(0,a.Lk)("button",{onClick:t=>p(e,"minutes",1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(x.A),{class:"h-3 w-3"})],8,B),(0,a.Lk)("button",{onClick:t=>p(e,"minutes",-1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(g.A),{class:"h-3 w-3"})],8,q)]),s[5]||(s[5]=(0,a.Lk)("span",{class:"absolute right-8 top-2 text-gray-500"},"min",-1))]),(0,a.Lk)("div",G,[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t=>c.value[e.id].seconds=t,min:"0",max:"59",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",onInput:t=>d(e)},null,40,z),[[o.Jo,c.value[e.id].seconds]]),(0,a.Lk)("div",Y,[(0,a.Lk)("button",{onClick:t=>p(e,"seconds",5),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(x.A),{class:"h-3 w-3"})],8,H),(0,a.Lk)("button",{onClick:t=>p(e,"seconds",-5),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(g.A),{class:"h-3 w-3"})],8,Z)]),s[6]||(s[6]=(0,a.Lk)("span",{class:"absolute right-8 top-2 text-gray-500"},"sec",-1))])])])]),(0,a.Lk)("button",{onClick:e=>w(t),class:"self-end h-10 flex items-center text-gray-400 hover:text-red-600"},[(0,a.bF)((0,r.R1)(m.A),{class:"h-5 w-5"})],8,ee)])):((0,a.uX)(),(0,a.CE)("div",te,[(0,a.Lk)("div",null,[s[8]||(s[8]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Exercise Name ",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.name=t,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"e.g. Push-ups"},null,8,se),[[o.Jo,e.name]])]),(0,a.Lk)("div",oe,[(0,a.Lk)("div",ae,[(0,a.Lk)("div",re,[s[9]||(s[9]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Sets ",-1)),(0,a.Lk)("div",le,[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.count=t,min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"},null,8,ne),[[o.Jo,e.count]]),(0,a.Lk)("div",ie,[(0,a.Lk)("button",{onClick:t=>e.count=Math.max(1,parseInt(e.count)+1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(x.A),{class:"h-3 w-3"})],8,ue),(0,a.Lk)("button",{onClick:t=>e.count=Math.max(1,parseInt(e.count)-1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(g.A),{class:"h-3 w-3"})],8,ce)])])]),(0,a.Lk)("div",de,[s[10]||(s[10]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Reps ",-1)),(0,a.Lk)("div",me,[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.reps=t,min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"},null,8,pe),[[o.Jo,e.reps]]),(0,a.Lk)("div",ve,[(0,a.Lk)("button",{onClick:t=>e.reps=Math.max(1,parseInt(e.reps)+1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(x.A),{class:"h-3 w-3"})],8,ye),(0,a.Lk)("button",{onClick:t=>e.reps=Math.max(1,parseInt(e.reps)-1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(g.A),{class:"h-3 w-3"})],8,xe)])])])]),(0,a.Lk)("div",ge,[s[13]||(s[13]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Rest Between Sets ",-1)),(0,a.Lk)("div",ke,[(0,a.Lk)("div",fe,[(0,a.Lk)("div",be,[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t=>c.value[e.id].minutes=t,min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",onInput:t=>d(e)},null,40,he),[[o.Jo,c.value[e.id].minutes]]),(0,a.Lk)("div",we,[(0,a.Lk)("button",{onClick:t=>p(e,"minutes",1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(x.A),{class:"h-3 w-3"})],8,Le),(0,a.Lk)("button",{onClick:t=>p(e,"minutes",-1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(g.A),{class:"h-3 w-3"})],8,Ce)]),s[11]||(s[11]=(0,a.Lk)("span",{class:"absolute right-8 top-2 text-gray-500"},"min",-1))]),(0,a.Lk)("div",Re,[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t=>c.value[e.id].seconds=t,min:"0",max:"59",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",onInput:t=>d(e)},null,40,Ee),[[o.Jo,c.value[e.id].seconds]]),(0,a.Lk)("div",Ae,[(0,a.Lk)("button",{onClick:t=>p(e,"seconds",5),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(x.A),{class:"h-3 w-3"})],8,Se),(0,a.Lk)("button",{onClick:t=>p(e,"seconds",-5),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,a.bF)((0,r.R1)(g.A),{class:"h-3 w-3"})],8,Fe)]),s[12]||(s[12]=(0,a.Lk)("span",{class:"absolute right-8 top-2 text-gray-500"},"sec",-1))])])])])]),(0,a.Lk)("div",Te,[(0,a.Lk)("button",{onClick:e=>L(t),class:"text-gray-400 hover:text-primary transition-colors",title:"Duplicate exercise"},[(0,a.bF)((0,r.R1)(k.A),{class:"h-5 w-5"})],8,_e),(0,a.Lk)("button",{onClick:e=>w(t),class:"text-gray-400 hover:text-red-600 transition-colors",title:"Delete exercise"},[(0,a.bF)((0,r.R1)(m.A),{class:"h-5 w-5"})],8,Xe)])]))])])),_:1},8,["modelValue"]),(0,a.Lk)("div",Ie,[(0,a.Lk)("button",{onClick:f,class:"w-1/2 py-2 px-4 border-2 border-dashed border-gray-300 rounded-lg text-secondary hover:border-primary hover:text-primary flex items-center justify-center"},[(0,a.bF)((0,r.R1)(u.A),{class:"h-5 w-5 mr-2"}),s[14]||(s[14]=(0,a.eW)(" Add Exercise "))]),(0,a.Lk)("button",{onClick:h,class:"w-1/2 py-2 px-4 border-2 border-dashed border-gray-300 rounded-lg text-secondary hover:border-primary hover:text-primary flex items-center justify-center"},[(0,a.bF)((0,r.R1)(u.A),{class:"h-5 w-5 mr-2"}),s[15]||(s[15]=(0,a.eW)(" Add Rest "))])])])]),(0,a.Lk)("div",We,[(0,a.Lk)("button",{onClick:s[3]||(s[3]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-500"}," Cancel "),(0,a.Lk)("button",{onClick:C,class:"px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-primary-dark rounded-md shadow-sm"}," Save Workout ")])])]))}};var Me=s(262);const Ke=(0,Me.A)(je,[["__scopeId","data-v-2114b0aa"]]),$e=Ke,Ne={class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4"},Oe={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},Ue={class:"px-6 py-4 border-b border-gray-200"},Ve={class:"flex items-center justify-between"},De={class:"text-xl font-display font-semibold"},Pe={class:"px-6 py-4"},Qe={class:"text-gray-600"},Je={class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},Be={__name:"ConfirmationModal",props:{title:{type:String,required:!0},message:{type:String,required:!0},mode:{type:String,default:"confirm",validator:e=>["confirm","alert"].includes(e)},confirmText:{type:String,default:"Delete"},cancelText:{type:String,default:"No, keep it"},confirmVariant:{type:String,default:"danger",validator:e=>["danger","primary"].includes(e)}},emits:["confirm","cancel"],setup(e){return(t,s)=>((0,a.uX)(),(0,a.CE)("div",Ne,[(0,a.Lk)("div",Oe,[(0,a.Lk)("div",Ue,[(0,a.Lk)("div",Ve,[(0,a.Lk)("h2",De,(0,l.v_)(e.title),1),(0,a.Lk)("button",{onClick:s[0]||(s[0]=e=>t.$emit("cancel")),class:"text-gray-400 hover:text-gray-500"},[(0,a.bF)((0,r.R1)(v.A),{class:"h-6 w-6"})])])]),(0,a.Lk)("div",Pe,[(0,a.Lk)("p",Qe,(0,l.v_)(e.message),1)]),(0,a.Lk)("div",Je,["confirm"===e.mode?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("button",{onClick:s[1]||(s[1]=e=>t.$emit("cancel")),class:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-500"},(0,l.v_)(e.cancelText),1),(0,a.Lk)("button",{onClick:s[2]||(s[2]=e=>t.$emit("confirm")),class:(0,l.C4)(["px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm","danger"===e.confirmVariant?"bg-red-600 hover:bg-red-700":"bg-primary hover:bg-primary-dark"])},(0,l.v_)(e.confirmText),3)],64)):((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:s[3]||(s[3]=e=>t.$emit("confirm")),class:"px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-primary-dark rounded-md shadow-sm"},(0,l.v_)(e.confirmText),1))])])]))}},qe=Be,Ge=qe,ze={class:"space-y-6"},Ye={class:"flex justify-end space-x-2"},He={class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary cursor-pointer"},Ze={key:0,class:"space-y-4"},et={class:"p-4 sm:p-6"},tt={class:"flex items-center justify-between"},st={class:"text-lg font-display font-semibold"},ot={class:"flex space-x-2"},at=["onClick"],rt=["onClick"],lt=["onClick"],nt={class:"mt-4 space-y-2"},it={key:0,class:"text-secondary italic"},ut={class:"text-secondary"},ct={key:1,class:"text-center py-12 bg-white rounded-lg shadow"},dt={class:"text-secondary mb-4"},mt={__name:"WorkoutList",emits:["start-workout"],setup(e,{emit:t}){const s=(0,r.KR)([]),o=(0,r.KR)(!1),v=(0,r.KR)(null),y=(0,r.KR)(!1),x=(0,r.KR)(null),g=(0,r.KR)(!1),k=(0,r.KR)(0),f=t;(0,a.sV)((async()=>{s.value=await A()}));const b=()=>{v.value={id:F(),name:"",sets:[]},o.value=!0},h=e=>{v.value={...e},o.value=!0},w=async e=>{const t=s.value.findIndex((t=>t.id===e.id));-1!==t?s.value[t]=e:s.value.push(e),T()},L=e=>{x.value=e,y.value=!0},C=async()=>{await S(x.value.id),s.value=s.value.filter((e=>e.id!==x.value.id)),y.value=!1,x.value=null},R=()=>{y.value=!1,x.value=null},T=()=>{o.value=!1,v.value=null},_=e=>{const t=Math.floor(e/60),s=e%60;return 0===t?`${s}s`:0===s?`${t}m`:`${t}m ${s}s`},X=async()=>{const e=await A(),t=JSON.stringify(e,null,2),s=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(s),a=(new Date).toISOString().split("T")[0],r=document.createElement("a");r.href=o,r.download=`workout-timer-export-${a}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)},I=async e=>{const t=e.target.files[0];if(t)try{const o=await t.text(),a=JSON.parse(o);if(!Array.isArray(a))throw new Error("Invalid workout data format");const r=await A();for(const e of r)await S(e.id);for(const e of a){const t={...e,id:F(),sets:e.sets.map((e=>({...e,id:F()})))};await E(t)}s.value=await A(),e.target.value="",k.value=a.length,g.value=!0}catch(o){console.error("Import error:",o),alert("Error importing workouts. Please check the file format.")}},W=()=>{g.value=!1,k.value=0},j=e=>{f("start-workout",e)};return(e,t)=>((0,a.uX)(),(0,a.CE)("div",ze,[(0,a.Lk)("div",Ye,[(0,a.Lk)("label",He,[(0,a.bF)((0,r.R1)(n.A),{class:"h-5 w-5 mr-2"}),t[0]||(t[0]=(0,a.eW)(" Import ")),(0,a.Lk)("input",{type:"file",accept:".json",class:"hidden",onChange:I},null,32)]),(0,a.Lk)("button",{onClick:X,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"},[(0,a.bF)((0,r.R1)(i.A),{class:"h-5 w-5 mr-2"}),t[1]||(t[1]=(0,a.eW)(" Export "))]),(0,a.Lk)("button",{onClick:b,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"},[(0,a.bF)((0,r.R1)(u.A),{class:"h-5 w-5 mr-2"}),t[2]||(t[2]=(0,a.eW)(" New Workout "))])]),s.value.length>0?((0,a.uX)(),(0,a.CE)("div",Ze,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.value,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"bg-white shadow rounded-lg overflow-hidden"},[(0,a.Lk)("div",et,[(0,a.Lk)("div",tt,[(0,a.Lk)("h3",st,(0,l.v_)(e.name||"Untitled Workout"),1),(0,a.Lk)("div",ot,[(0,a.Lk)("button",{onClick:t=>j(e),class:"text-secondary hover:text-primary",title:"Start workout"},[(0,a.bF)((0,r.R1)(c.A),{class:"h-5 w-5"})],8,at),(0,a.Lk)("button",{onClick:t=>h(e),class:"text-secondary hover:text-primary"},[(0,a.bF)((0,r.R1)(d.A),{class:"h-5 w-5"})],8,rt),(0,a.Lk)("button",{onClick:t=>L(e),class:"text-secondary hover:text-red-600"},[(0,a.bF)((0,r.R1)(m.A),{class:"h-5 w-5"})],8,lt)])]),(0,a.Lk)("div",nt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.sets,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"text-sm text-gray-600"},["rest"===e.type?((0,a.uX)(),(0,a.CE)("span",it," Rest: "+(0,l.v_)(_(e.restTime)),1)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,l.v_)(e.name)+" - "+(0,l.v_)(e.count)+" sets of "+(0,l.v_)(e.reps)+" reps ",1),(0,a.Lk)("span",ut," ("+(0,l.v_)(_(e.restTime))+" rest between sets) ",1)],64))])))),128))])])])))),128))])):((0,a.uX)(),(0,a.CE)("div",ct,[(0,a.Lk)("div",dt,[(0,a.bF)((0,r.R1)(p.A),{class:"h-12 w-12 mx-auto"})]),t[3]||(t[3]=(0,a.Lk)("h3",{class:"font-display font-semibold"},"No workouts yet",-1)),t[4]||(t[4]=(0,a.Lk)("p",{class:"text-secondary mt-1"},"Create your first workout to get started",-1))])),y.value?((0,a.uX)(),(0,a.Wv)(Ge,{key:2,title:"Delete Workout",message:"Are you sure you want to delete the "+(x.value?.name||"untitled")+" workout?",mode:"confirm","confirm-text":"Delete","confirm-variant":"danger",onConfirm:C,onCancel:R},null,8,["message"])):(0,a.Q3)("",!0),g.value?((0,a.uX)(),(0,a.Wv)(Ge,{key:3,title:"Import Successful",message:"Successfully imported "+k.value+" workout"+(1!==k.value?"s":"")+".",mode:"alert","confirm-text":"OK","confirm-variant":"primary",onConfirm:W,onCancel:W},null,8,["message"])):(0,a.Q3)("",!0),o.value?((0,a.uX)(),(0,a.Wv)($e,{key:4,workout:v.value,onSave:w,onClose:T},null,8,["workout"])):(0,a.Q3)("",!0)]))}},pt=mt,vt=pt;var yt=s(406),xt=s(695),gt=s(717),kt=s(340),ft=s(204);const bt={class:"min-h-screen bg-gray-100"},ht={class:"bg-white shadow-sm"},wt={class:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex items-center justify-between"},Lt={class:"text-2xl font-display font-bold text-gray-900"},Ct={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Rt={class:"bg-white shadow rounded-lg overflow-hidden"},Et={class:"p-6"},At={key:0,class:"space-y-6"},St={class:"text-center"},Ft={class:"text-2xl font-display font-semibold text-gray-900"},Tt={class:"mt-1 text-lg text-gray-600"},_t={key:0,class:"text-sm text-gray-500"},Xt={key:0,class:"text-center"},It={class:"mt-2 text-gray-600"},Wt={key:0,class:"text-yellow-600 font-medium"},jt={class:"mt-4"},Mt=["title"],Kt={class:"mt-4 flex justify-center space-x-4"},$t={class:"flex justify-center space-x-4"},Nt={key:1,class:"text-center py-12"},Ot={class:"text-primary mb-4"},Ut={class:"mt-6 space-x-4"},Vt={class:"border-t border-gray-200 p-6 bg-gray-50"},Dt={class:"space-y-3"},Pt={key:0,class:"flex items-center text-sm"},Qt={key:1,class:"w-2 h-2 bg-current rounded-full"},Jt=["onClick","title"],Bt={key:1,class:"flex items-center text-sm pl-8"},qt={__name:"WorkoutTracker",props:{workout:{type:Object,required:!0}},emits:["close"],setup(e){const t=e,s=new Audio,o=new Audio;let n=!1;(0,a.sV)((()=>{try{s.src="./sounds/alarm.mp3",o.src="./sounds/ticking.mp3",s.onerror=()=>console.log("Alarm sound failed to load"),o.onerror=()=>console.log("Ticking sound failed to load"),s.loop=!0,o.loop=!0,s.oncanplaythrough=()=>{s.oncanplaythrough=null,console.log("Alarm sound loaded")},o.oncanplaythrough=()=>{o.oncanplaythrough=null,console.log("Ticking sound loaded")},n=!0}catch(e){console.log("Error setting up sounds:",e),n=!1}}));const i=(0,r.KR)(0),u=(0,r.KR)(1),d=(0,r.KR)(!1),m=(0,r.KR)(0),p=(0,r.KR)(!1),y=(0,r.KR)(!1),x=(0,r.KR)(!1);let g=null;const k=(0,r.KR)(!1),f=(0,r.KR)(null),b=(0,a.EW)((()=>t.workout.sets.filter((e=>"exercise"===e.type)))),h=(0,a.EW)((()=>{const e=Math.floor(i.value);return e<b.value.length?b.value[e]:null})),w=(0,a.EW)((()=>({"text-primary":m.value>5,"text-yellow-500":m.value<=5&&m.value>0,"text-red-500":0===m.value}))),L=(0,a.EW)((()=>{if(!f.value)return"";const e=f.value.index>i.value,t=e?"forward to":"back to";return`Are you sure you want to skip ${t} "${f.value.name}"?`})),C=e=>{const t=Math.floor(e/60),s=e%60;return`${t}:${s.toString().padStart(2,"0")}`},R=e=>{const t=Math.floor(e);return t<i.value?"bg-green-500":t===i.value?"border-2 border-primary text-primary":"border-2 border-gray-300 text-gray-300"},E=e=>{const t=Math.floor(e);return t<i.value?"text-gray-500 line-through":t===i.value?"text-gray-900 font-medium":"text-gray-500"},A=()=>{if(n)try{s.pause(),s.currentTime=0,o.pause(),o.currentTime=0}catch(e){console.log("Error stopping sounds:",e)}},S=e=>{if(n)try{"warning"===e?(o.currentTime=0,o.play().catch((e=>{console.log("Error playing ticking sound:",e)}))):"complete"===e&&(o.pause(),o.currentTime=0,s.currentTime=0,s.play().catch((e=>{console.log("Error playing alarm sound:",e)})))}catch(t){console.log(`Error attempting to play ${e} sound:`,t)}},F=()=>h.value?d.value?p.value?"Rest before next exercise":"Rest after Set "+(u.value-1):`${h.value.name} - Set ${u.value} of ${h.value.count}`:"",T=()=>y.value?`Finish Set ${u.value}`:`Start Set ${u.value}`,_=e=>{d.value=!0,m.value=e,x.value=!1,g=setInterval((()=>{!x.value&&m.value>0&&(m.value--,5===m.value&&S("warning"),0===m.value&&(clearInterval(g),S("complete"),p.value?(p.value=!1,d.value=!1,y.value=!1):(d.value=!1,y.value=!1)))}),1e3)},X=()=>{A(),y.value=!0},I=()=>{if(A(),u.value<h.value.count)_(h.value.restTime),u.value++;else if(u.value=1,i.value++,i.value<b.value.length){const e=t.workout.sets.findIndex(((e,t)=>"exercise"===e.type&&Math.floor(t/2)===i.value-1)),s=t.workout.sets.find(((s,o)=>o>e&&o<t.workout.sets.length&&"rest"===s.type));s?(p.value=!0,y.value=!1,_(s.restTime)):(p.value=!1,y.value=!1)}},W=()=>{y.value?I():X()},j=()=>{A(),clearInterval(g),d.value=!1,y.value=!1,u.value<h.value.count&&u.value++},M=()=>{if(A(),u.value=1,i.value++,i.value<b.value.length){const e=t.workout.sets.findIndex(((e,t)=>"exercise"===e.type&&Math.floor(t/2)===i.value-1)),s=t.workout.sets.find(((s,o)=>o>e&&o<t.workout.sets.length&&"rest"===s.type));s?(p.value=!0,y.value=!1,_(s.restTime)):(p.value=!1,y.value=!1)}},K=()=>{A(),clearInterval(g),p.value?(p.value=!1,d.value=!1,y.value=!1):(d.value=!1,y.value=!1)},$=()=>{x.value?(x.value=!1,d.value&&_(m.value)):(x.value=!0,clearInterval(g),A())},N=(e,t)=>{e!==i.value&&(f.value={index:e,name:t},k.value=!0)},O=()=>{f.value&&(A(),clearInterval(g),i.value=f.value.index,u.value=1,d.value=!1,p.value=!1,y.value=!1,x.value=!1,k.value=!1,f.value=null)},U=()=>{k.value=!1,f.value=null};return(0,a.hi)((()=>{g&&clearInterval(g),n&&(A(),s.src="",o.src="")})),(t,s)=>((0,a.uX)(),(0,a.CE)("div",bt,[(0,a.Lk)("header",ht,[(0,a.Lk)("div",wt,[(0,a.Lk)("h1",Lt,(0,l.v_)(e.workout.name||"Workout"),1),(0,a.Lk)("button",{onClick:s[0]||(s[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-500"},[(0,a.bF)((0,r.R1)(v.A),{class:"h-6 w-6"})])])]),(0,a.Lk)("main",Ct,[(0,a.Lk)("div",Rt,[(0,a.Lk)("div",Et,[h.value||p.value?((0,a.uX)(),(0,a.CE)("div",At,[(0,a.Lk)("div",St,[(0,a.Lk)("h2",Ft,(0,l.v_)(h.value.name),1),(0,a.Lk)("p",Tt,(0,l.v_)(F()),1),d.value||p.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("p",_t,(0,l.v_)(h.value.reps)+" reps ",1))]),d.value?((0,a.uX)(),(0,a.CE)("div",Xt,[(0,a.Lk)("div",{class:(0,l.C4)(["text-6xl font-display font-bold",w.value])},(0,l.v_)(C(m.value)),3),(0,a.Lk)("p",It,[(0,a.eW)((0,l.v_)(p.value?"Rest before next exercise":"Rest between sets")+" ",1),x.value?((0,a.uX)(),(0,a.CE)("span",Wt," (PAUSED)")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",jt,[(0,a.Lk)("button",{onClick:$,class:"px-6 py-3 text-lg font-medium text-white bg-primary hover:bg-primary-dark rounded-md shadow-sm transition-colors flex items-center space-x-2 mx-auto",title:x.value?"Resume":"Pause"},[x.value?((0,a.uX)(),(0,a.Wv)((0,r.R1)(c.A),{key:1,class:"h-5 w-5"})):((0,a.uX)(),(0,a.Wv)((0,r.R1)(yt.A),{key:0,class:"h-5 w-5"})),(0,a.Lk)("span",null,(0,l.v_)(x.value?"Resume":"Pause"),1)],8,Mt)]),(0,a.Lk)("div",Kt,[(0,a.Lk)("button",{onClick:K,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md shadow-sm transition-colors flex items-center space-x-2",title:"Skip rest period"},[(0,a.bF)((0,r.R1)(xt.A),{class:"h-4 w-4"}),s[2]||(s[2]=(0,a.Lk)("span",null,"Skip Rest",-1))]),!p.value&&u.value<h.value.count?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:j,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md shadow-sm transition-colors flex items-center space-x-2",title:"Skip to next set"},[(0,a.bF)((0,r.R1)(gt.A),{class:"h-4 w-4"}),s[3]||(s[3]=(0,a.Lk)("span",null,"Skip Set",-1))])):(0,a.Q3)("",!0),i.value<b.value.length-1?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:M,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md shadow-sm transition-colors flex items-center space-x-2",title:"Skip to next exercise"},[(0,a.bF)((0,r.R1)(xt.A),{class:"h-4 w-4"}),s[4]||(s[4]=(0,a.Lk)("span",null,"Skip Exercise",-1))])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",$t,[d.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:W,class:"px-6 py-3 text-lg font-medium text-white bg-primary hover:bg-primary-dark rounded-md shadow-sm transition-colors"},(0,l.v_)(T()),1)),!d.value&&y.value&&u.value<h.value.count?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:j,class:"px-4 py-3 text-lg font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md shadow-sm transition-colors flex items-center space-x-2",title:"Skip to next set"},[(0,a.bF)((0,r.R1)(gt.A),{class:"h-5 w-5"}),s[5]||(s[5]=(0,a.Lk)("span",null,"Skip Set",-1))])):(0,a.Q3)("",!0),!d.value&&i.value<b.value.length-1?((0,a.uX)(),(0,a.CE)("button",{key:2,onClick:M,class:"px-4 py-3 text-lg font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md shadow-sm transition-colors flex items-center space-x-2",title:"Skip to next exercise"},[(0,a.bF)((0,r.R1)(xt.A),{class:"h-5 w-5"}),s[6]||(s[6]=(0,a.Lk)("span",null,"Skip Exercise",-1))])):(0,a.Q3)("",!0)])])):((0,a.uX)(),(0,a.CE)("div",Nt,[(0,a.Lk)("div",Ot,[(0,a.bF)((0,r.R1)(kt.A),{class:"h-16 w-16 mx-auto"})]),s[7]||(s[7]=(0,a.Lk)("h2",{class:"text-3xl font-display font-bold text-gray-900"}," Workout Complete! ",-1)),s[8]||(s[8]=(0,a.Lk)("p",{class:"mt-2 text-gray-600"},"Great job! You've finished your workout.",-1)),(0,a.Lk)("div",Ut,[(0,a.Lk)("button",{onClick:s[1]||(s[1]=e=>t.$emit("close")),class:"px-6 py-3 text-lg font-medium text-white bg-primary hover:bg-primary-dark rounded-md shadow-sm transition-colors"}," Done ")])]))]),(0,a.Lk)("div",Vt,[s[9]||(s[9]=(0,a.Lk)("h3",{class:"text-sm font-medium text-gray-500 mb-4"},"Progress",-1)),(0,a.Lk)("div",Dt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.workout.sets,((e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e.id},["exercise"===e.type?((0,a.uX)(),(0,a.CE)("div",Pt,[(0,a.Lk)("div",{class:(0,l.C4)(["flex-shrink-0 w-5 h-5 rounded-full mr-3 flex items-center justify-center",R(Math.floor(t/2))])},[Math.floor(t/2)<i.value?((0,a.uX)(),(0,a.Wv)((0,r.R1)(ft.A),{key:0,class:"w-3 h-3 text-white"})):Math.floor(t/2)===i.value?((0,a.uX)(),(0,a.CE)("div",Qt)):(0,a.Q3)("",!0)],2),(0,a.Lk)("span",{class:(0,l.C4)([E(Math.floor(t/2)),"cursor-pointer hover:text-primary transition-colors"]),onClick:s=>N(Math.floor(t/2),e.name),title:Math.floor(t/2)===i.value?"Current exercise":`Click to skip to ${e.name}`},(0,l.v_)(e.name),11,Jt)])):((0,a.uX)(),(0,a.CE)("div",Bt,[(0,a.Lk)("span",{class:(0,l.C4)(["text-secondary italic",{"line-through":Math.floor(t/2)<i.value,"font-medium":Math.floor(t/2)===i.value&&p.value}])}," Rest: "+(0,l.v_)(C(e.restTime)),3)]))],64)))),128))])])])]),k.value?((0,a.uX)(),(0,a.Wv)(Ge,{key:0,title:"Skip to Exercise",message:L.value,"confirm-text":"Skip","cancel-text":"Cancel","confirm-variant":"primary",onConfirm:O,onCancel:U},null,8,["message"])):(0,a.Q3)("",!0)]))}},Gt=qt,zt=Gt,Yt={class:"min-h-screen bg-gray-100"},Ht={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Zt={__name:"App",setup(e){const t=(0,r.KR)(null),s=e=>{console.log("Starting workout in App.vue:",e),t.value=e},o=document.createElement("link");return o.rel="stylesheet",o.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap",document.head.appendChild(o),(e,o)=>((0,a.uX)(),(0,a.CE)("div",Yt,[t.value?((0,a.uX)(),(0,a.Wv)(zt,{key:1,workout:t.value,onClose:o[0]||(o[0]=e=>t.value=null)},null,8,["workout"])):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[o[1]||(o[1]=(0,a.Lk)("header",{class:"bg-white shadow-sm"},[(0,a.Lk)("div",{class:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8"},[(0,a.Lk)("h1",{class:"text-2xl font-display font-bold text-gray-900"},"Workout Timer")])],-1)),(0,a.Lk)("main",Ht,[(0,a.bF)(vt,{onStartWorkout:s})])],64))]))}},es=Zt,ts=es;var ss=s(723);(new Date).toISOString();let os=null;const as=()=>{if(os)return;os=document.createElement("div"),os.style.position="fixed",os.style.bottom="0",os.style.left="0",os.style.right="0",os.style.backgroundColor="#3B82F6",os.style.color="white",os.style.padding="1rem",os.style.textAlign="center",os.style.zIndex="9999";const e=document.createElement("span");e.textContent="A new version is available! ",os.appendChild(e);const t=document.createElement("button");t.textContent="Update Now",t.style.marginLeft="1rem",t.style.padding="0.5rem 1rem",t.style.backgroundColor="white",t.style.color="#3B82F6",t.style.border="none",t.style.borderRadius="0.25rem",t.style.cursor="pointer",t.addEventListener("click",(()=>{window.location.reload()})),os.appendChild(t),document.body.appendChild(os)};{(0,ss.k)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(e){console.log("Service worker has been registered."),setInterval((()=>{e.update()}),36e5)},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(e){console.log("New content is available; please refresh."),as(),e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"})},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});let e=!1;navigator.serviceWorker.addEventListener("controllerchange",(()=>{e||(e=!0,window.location.reload())}))}const rs=(0,o.Ef)(ts);rs.mount("#app")}},t={};function s(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,s),r.exports}s.m=e,(()=>{var e=[];s.O=(t,o,a,r)=>{if(!o){var l=1/0;for(c=0;c<e.length;c++){for(var[o,a,r]=e[c],n=!0,i=0;i<o.length;i++)(!1&r||l>=r)&&Object.keys(s.O).every((e=>s.O[e](o[i])))?o.splice(i--,1):(n=!1,r<l&&(l=r));if(n){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,a,r]}})(),(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var a,r,[l,n,i]=o,u=0;if(l.some((t=>0!==e[t]))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(i)var c=i(s)}for(t&&t(o);u<l.length;u++)r=l[u],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},o=self["webpackChunkworkout_timer"]=self["webpackChunkworkout_timer"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=s.O(void 0,[504],(()=>s(885)));o=s.O(o)})();
//# sourceMappingURL=app.f8665834.js.map