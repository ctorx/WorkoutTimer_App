(()=>{"use strict";var e={885:(e,t,s)=>{var o=s(751),r=s(641),a=s(953),l=s(33),n=s(292),i=s(769),c=s(560),u=s(30),d=s(297),m=s(346),p=s(126),y=s(600),v=s(327),x=s(221),g=s(839),f=s(957),k=s(432),b=s.n(k),h=s(602);const w="workout-timer-db",L=1,C="workouts",R=(0,h.P2)(w,L,{upgrade(e){e.objectStoreNames.contains(C)||e.createObjectStore(C,{keyPath:"id"})}});async function E(e){const t={...e,sets:e.sets.map((e=>({...e,id:String(e.id),restTime:Number(e.restTime),..."exercise"===e.type?{reps:Number(e.reps),count:Number(e.count)}:{}})))},s=await R;await s.put(C,t)}async function A(){const e=await R,t=await e.getAll(C);return t.map((e=>({...e,sets:e.sets.map((e=>({...e,restTime:Number(e.restTime),..."exercise"===e.type?{reps:Number(e.reps),count:Number(e.count)}:{}})))})))}async function F(e){const t=await R;await t.delete(C,e)}function T(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const _={class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4"},S={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden"},I={class:"px-6 py-4 border-b border-gray-200"},X={class:"flex items-center justify-between"},j={class:"text-xl font-display font-semibold"},W={class:"px-6 py-4 max-h-[calc(90vh-8rem)] overflow-y-auto"},M={class:"mb-6"},K={class:"space-y-4"},N={class:"bg-gray-50 p-4 rounded-lg relative group"},O={class:"drag-handle absolute left-2 top-1/2 -translate-y-1/2 cursor-move text-gray-400"},U={key:0,class:"ml-8 flex items-center gap-4"},V={class:"flex-grow"},$={class:"flex items-center gap-2"},D={class:"flex-1 grid grid-cols-2 gap-2"},J={class:"relative"},P=["onUpdate:modelValue","onInput"],Q={class:"absolute right-1 top-1 bottom-1 flex flex-col"},B=["onClick"],q=["onClick"],G={class:"relative"},z=["onUpdate:modelValue","onInput"],Y={class:"absolute right-1 top-1 bottom-1 flex flex-col"},H=["onClick"],Z=["onClick"],ee=["onClick"],te={key:1,class:"ml-8 space-y-4 relative pb-10"},se=["onUpdate:modelValue"],oe={class:"space-y-4 sm:space-y-0 sm:grid sm:grid-cols-8 sm:gap-4"},re={class:"grid grid-cols-2 gap-4 sm:contents"},ae={class:"sm:col-span-2"},le={class:"relative sm:w-full"},ne=["onUpdate:modelValue"],ie={class:"absolute right-1 top-1 bottom-1 flex flex-col"},ce=["onClick"],ue=["onClick"],de={class:"sm:col-span-2"},me={class:"relative sm:w-full"},pe=["onUpdate:modelValue"],ye={class:"absolute right-1 top-1 bottom-1 flex flex-col"},ve=["onClick"],xe=["onClick"],ge={class:"sm:col-span-4"},fe={class:"flex items-center gap-2"},ke={class:"flex-1 grid grid-cols-2 gap-2"},be={class:"relative"},he=["onUpdate:modelValue","onInput"],we={class:"absolute right-1 top-1 bottom-1 flex flex-col"},Le=["onClick"],Ce=["onClick"],Re={class:"relative"},Ee=["onUpdate:modelValue","onInput"],Ae={class:"absolute right-1 top-1 bottom-1 flex flex-col"},Fe=["onClick"],Te=["onClick"],_e={class:"absolute bottom-0 right-0 flex gap-2"},Se=["onClick"],Ie=["onClick"],Xe={class:"flex gap-4"},je={class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},We={__name:"WorkoutEditor",props:{workout:{type:Object,required:!0}},emits:["save","close"],setup(e,{emit:t}){const s=e,n=t,i=(0,a.KR)({...s.workout,sets:s.workout.sets.map((e=>({...e,type:e.type||"exercise"})))}),u=(0,a.KR)({});(0,r.wB)((()=>i.value.sets),(e=>{e.forEach((e=>{u.value[e.id]||(u.value[e.id]={minutes:Math.floor(e.restTime/60),seconds:e.restTime%60})}))}),{immediate:!0});const d=e=>{const t=u.value[e.id];t.minutes=Math.max(0,parseInt(t.minutes)||0),t.seconds=Math.min(59,Math.max(0,parseInt(t.seconds)||0)),e.restTime=60*t.minutes+t.seconds},p=(e,t,s)=>{const o=u.value[e.id];"minutes"===t?o.minutes=Math.max(0,o.minutes+s):(o.seconds=(o.seconds+s+60)%60,o.seconds<0&&(o.seconds=45),o.seconds>45&&(o.seconds=0)),d(e)},k=()=>{const e=Date.now();i.value.sets.push({id:e,type:"exercise",name:"",reps:1,count:1,restTime:30}),u.value[e]={minutes:0,seconds:30}},h=()=>{const e=Date.now();i.value.sets.push({id:e,type:"rest",restTime:60}),u.value[e]={minutes:1,seconds:0}},w=e=>{const t=i.value.sets[e];delete u.value[t.id],i.value.sets.splice(e,1)},L=e=>{const t=i.value.sets[e],s={...t,id:Date.now(),name:`${t.name} (copy)`};u.value[s.id]={minutes:Math.floor(s.restTime/60),seconds:s.restTime%60},i.value.sets.splice(e+1,0,s)},C=async()=>{const e={id:i.value.id,name:i.value.name,sets:i.value.sets.map((e=>"rest"===e.type?{id:e.id,type:"rest",restTime:Number(e.restTime)}:{id:e.id,type:"exercise",name:e.name,reps:Number(e.reps),count:Number(e.count),restTime:Number(e.restTime)}))};await E(e),n("save",e)};return(t,s)=>((0,r.uX)(),(0,r.CE)("div",_,[(0,r.Lk)("div",S,[(0,r.Lk)("div",I,[(0,r.Lk)("div",X,[(0,r.Lk)("h2",j,(0,l.v_)(e.workout.name?"Edit Workout":"New Workout"),1),(0,r.Lk)("button",{onClick:s[0]||(s[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-500"},[(0,r.bF)((0,a.R1)(y.A),{class:"h-6 w-6"})])])]),(0,r.Lk)("div",W,[(0,r.Lk)("div",M,[s[4]||(s[4]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Workout Name ",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>i.value.name=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Enter workout name"},null,512),[[o.Jo,i.value.name]])]),(0,r.Lk)("div",K,[(0,r.bF)((0,a.R1)(b()),{modelValue:i.value.sets,"onUpdate:modelValue":s[2]||(s[2]=e=>i.value.sets=e),"item-key":"id",handle:".drag-handle",animation:200,"ghost-class":"ghost-item","drag-class":"dragging-item",class:"space-y-4"},{item:(0,r.k6)((({element:e,index:t})=>[(0,r.Lk)("div",N,[(0,r.Lk)("div",O,[(0,r.bF)((0,a.R1)(v.A),{class:"h-5 w-5"})]),"rest"===e.type?((0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("div",V,[s[7]||(s[7]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Rest Time ",-1)),(0,r.Lk)("div",$,[(0,r.Lk)("div",D,[(0,r.Lk)("div",J,[(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t=>u.value[e.id].minutes=t,min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",onInput:t=>d(e)},null,40,P),[[o.Jo,u.value[e.id].minutes]]),(0,r.Lk)("div",Q,[(0,r.Lk)("button",{onClick:t=>p(e,"minutes",1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(x.A),{class:"h-3 w-3"})],8,B),(0,r.Lk)("button",{onClick:t=>p(e,"minutes",-1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(g.A),{class:"h-3 w-3"})],8,q)]),s[5]||(s[5]=(0,r.Lk)("span",{class:"absolute right-8 top-2 text-gray-500"},"min",-1))]),(0,r.Lk)("div",G,[(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t=>u.value[e.id].seconds=t,min:"0",max:"59",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",onInput:t=>d(e)},null,40,z),[[o.Jo,u.value[e.id].seconds]]),(0,r.Lk)("div",Y,[(0,r.Lk)("button",{onClick:t=>p(e,"seconds",5),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(x.A),{class:"h-3 w-3"})],8,H),(0,r.Lk)("button",{onClick:t=>p(e,"seconds",-5),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(g.A),{class:"h-3 w-3"})],8,Z)]),s[6]||(s[6]=(0,r.Lk)("span",{class:"absolute right-8 top-2 text-gray-500"},"sec",-1))])])])]),(0,r.Lk)("button",{onClick:e=>w(t),class:"self-end h-10 flex items-center text-gray-400 hover:text-red-600"},[(0,r.bF)((0,a.R1)(m.A),{class:"h-5 w-5"})],8,ee)])):((0,r.uX)(),(0,r.CE)("div",te,[(0,r.Lk)("div",null,[s[8]||(s[8]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Exercise Name ",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.name=t,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"e.g. Push-ups"},null,8,se),[[o.Jo,e.name]])]),(0,r.Lk)("div",oe,[(0,r.Lk)("div",re,[(0,r.Lk)("div",ae,[s[9]||(s[9]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Sets ",-1)),(0,r.Lk)("div",le,[(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.count=t,min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"},null,8,ne),[[o.Jo,e.count]]),(0,r.Lk)("div",ie,[(0,r.Lk)("button",{onClick:t=>e.count=Math.max(1,parseInt(e.count)+1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(x.A),{class:"h-3 w-3"})],8,ce),(0,r.Lk)("button",{onClick:t=>e.count=Math.max(1,parseInt(e.count)-1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(g.A),{class:"h-3 w-3"})],8,ue)])])]),(0,r.Lk)("div",de,[s[10]||(s[10]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Reps ",-1)),(0,r.Lk)("div",me,[(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.reps=t,min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"},null,8,pe),[[o.Jo,e.reps]]),(0,r.Lk)("div",ye,[(0,r.Lk)("button",{onClick:t=>e.reps=Math.max(1,parseInt(e.reps)+1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(x.A),{class:"h-3 w-3"})],8,ve),(0,r.Lk)("button",{onClick:t=>e.reps=Math.max(1,parseInt(e.reps)-1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(g.A),{class:"h-3 w-3"})],8,xe)])])])]),(0,r.Lk)("div",ge,[s[13]||(s[13]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Rest Between Sets ",-1)),(0,r.Lk)("div",fe,[(0,r.Lk)("div",ke,[(0,r.Lk)("div",be,[(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t=>u.value[e.id].minutes=t,min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",onInput:t=>d(e)},null,40,he),[[o.Jo,u.value[e.id].minutes]]),(0,r.Lk)("div",we,[(0,r.Lk)("button",{onClick:t=>p(e,"minutes",1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(x.A),{class:"h-3 w-3"})],8,Le),(0,r.Lk)("button",{onClick:t=>p(e,"minutes",-1),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(g.A),{class:"h-3 w-3"})],8,Ce)]),s[11]||(s[11]=(0,r.Lk)("span",{class:"absolute right-8 top-2 text-gray-500"},"min",-1))]),(0,r.Lk)("div",Re,[(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t=>u.value[e.id].seconds=t,min:"0",max:"59",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",onInput:t=>d(e)},null,40,Ee),[[o.Jo,u.value[e.id].seconds]]),(0,r.Lk)("div",Ae,[(0,r.Lk)("button",{onClick:t=>p(e,"seconds",5),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(x.A),{class:"h-3 w-3"})],8,Fe),(0,r.Lk)("button",{onClick:t=>p(e,"seconds",-5),class:"flex-1 px-1 text-gray-500 hover:text-primary"},[(0,r.bF)((0,a.R1)(g.A),{class:"h-3 w-3"})],8,Te)]),s[12]||(s[12]=(0,r.Lk)("span",{class:"absolute right-8 top-2 text-gray-500"},"sec",-1))])])])])]),(0,r.Lk)("div",_e,[(0,r.Lk)("button",{onClick:e=>L(t),class:"text-gray-400 hover:text-primary transition-colors",title:"Duplicate exercise"},[(0,r.bF)((0,a.R1)(f.A),{class:"h-5 w-5"})],8,Se),(0,r.Lk)("button",{onClick:e=>w(t),class:"text-gray-400 hover:text-red-600 transition-colors",title:"Delete exercise"},[(0,r.bF)((0,a.R1)(m.A),{class:"h-5 w-5"})],8,Ie)])]))])])),_:1},8,["modelValue"]),(0,r.Lk)("div",Xe,[(0,r.Lk)("button",{onClick:k,class:"w-1/2 py-2 px-4 border-2 border-dashed border-gray-300 rounded-lg text-secondary hover:border-primary hover:text-primary flex items-center justify-center"},[(0,r.bF)((0,a.R1)(c.A),{class:"h-5 w-5 mr-2"}),s[14]||(s[14]=(0,r.eW)(" Add Exercise "))]),(0,r.Lk)("button",{onClick:h,class:"w-1/2 py-2 px-4 border-2 border-dashed border-gray-300 rounded-lg text-secondary hover:border-primary hover:text-primary flex items-center justify-center"},[(0,r.bF)((0,a.R1)(c.A),{class:"h-5 w-5 mr-2"}),s[15]||(s[15]=(0,r.eW)(" Add Rest "))])])])]),(0,r.Lk)("div",je,[(0,r.Lk)("button",{onClick:s[3]||(s[3]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-500"}," Cancel "),(0,r.Lk)("button",{onClick:C,class:"px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-primary-dark rounded-md shadow-sm"}," Save Workout ")])])]))}};var Me=s(262);const Ke=(0,Me.A)(We,[["__scopeId","data-v-2114b0aa"]]),Ne=Ke,Oe={class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4"},Ue={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},Ve={class:"px-6 py-4 border-b border-gray-200"},$e={class:"flex items-center justify-between"},De={class:"text-xl font-display font-semibold"},Je={class:"px-6 py-4"},Pe={class:"text-gray-600"},Qe={class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},Be={__name:"ConfirmationModal",props:{title:{type:String,required:!0},message:{type:String,required:!0},mode:{type:String,default:"confirm",validator:e=>["confirm","alert"].includes(e)},confirmText:{type:String,default:"Delete"},cancelText:{type:String,default:"No, keep it"},confirmVariant:{type:String,default:"danger",validator:e=>["danger","primary"].includes(e)}},emits:["confirm","cancel"],setup(e){return(t,s)=>((0,r.uX)(),(0,r.CE)("div",Oe,[(0,r.Lk)("div",Ue,[(0,r.Lk)("div",Ve,[(0,r.Lk)("div",$e,[(0,r.Lk)("h2",De,(0,l.v_)(e.title),1),(0,r.Lk)("button",{onClick:s[0]||(s[0]=e=>t.$emit("cancel")),class:"text-gray-400 hover:text-gray-500"},[(0,r.bF)((0,a.R1)(y.A),{class:"h-6 w-6"})])])]),(0,r.Lk)("div",Je,[(0,r.Lk)("p",Pe,(0,l.v_)(e.message),1)]),(0,r.Lk)("div",Qe,["confirm"===e.mode?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.Lk)("button",{onClick:s[1]||(s[1]=e=>t.$emit("cancel")),class:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-500"},(0,l.v_)(e.cancelText),1),(0,r.Lk)("button",{onClick:s[2]||(s[2]=e=>t.$emit("confirm")),class:(0,l.C4)(["px-4 py-2 text-sm font-medium text-white rounded-md shadow-sm","danger"===e.confirmVariant?"bg-red-600 hover:bg-red-700":"bg-primary hover:bg-primary-dark"])},(0,l.v_)(e.confirmText),3)],64)):((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:s[3]||(s[3]=e=>t.$emit("confirm")),class:"px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-primary-dark rounded-md shadow-sm"},(0,l.v_)(e.confirmText),1))])])]))}},qe=Be,Ge=qe,ze={class:"space-y-6"},Ye={class:"flex justify-end space-x-2"},He={class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary cursor-pointer"},Ze={key:0,class:"space-y-4"},et={class:"p-4 sm:p-6"},tt={class:"flex items-center justify-between"},st={class:"text-lg font-display font-semibold"},ot={class:"flex space-x-2"},rt=["onClick"],at=["onClick"],lt=["onClick"],nt={class:"mt-4 space-y-2"},it={key:0,class:"text-secondary italic"},ct={class:"text-secondary"},ut={key:1,class:"text-center py-12 bg-white rounded-lg shadow"},dt={class:"text-secondary mb-4"},mt={__name:"WorkoutList",emits:["start-workout"],setup(e,{emit:t}){const s=(0,a.KR)([]),o=(0,a.KR)(!1),y=(0,a.KR)(null),v=(0,a.KR)(!1),x=(0,a.KR)(null),g=(0,a.KR)(!1),f=(0,a.KR)(0),k=t;(0,r.sV)((async()=>{s.value=await A()}));const b=()=>{y.value={id:T(),name:"",sets:[]},o.value=!0},h=e=>{y.value={...e},o.value=!0},w=async e=>{const t=s.value.findIndex((t=>t.id===e.id));-1!==t?s.value[t]=e:s.value.push(e),_()},L=e=>{x.value=e,v.value=!0},C=async()=>{await F(x.value.id),s.value=s.value.filter((e=>e.id!==x.value.id)),v.value=!1,x.value=null},R=()=>{v.value=!1,x.value=null},_=()=>{o.value=!1,y.value=null},S=e=>{const t=Math.floor(e/60),s=e%60;return 0===t?`${s}s`:0===s?`${t}m`:`${t}m ${s}s`},I=async()=>{const e=await A(),t=JSON.stringify(e,null,2),s=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(s),r=(new Date).toISOString().split("T")[0],a=document.createElement("a");a.href=o,a.download=`workout-timer-export-${r}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)},X=async e=>{const t=e.target.files[0];if(t)try{const o=await t.text(),r=JSON.parse(o);if(!Array.isArray(r))throw new Error("Invalid workout data format");const a=await A();for(const e of a)await F(e.id);for(const e of r){const t={...e,id:T(),sets:e.sets.map((e=>({...e,id:T()})))};await E(t)}s.value=await A(),e.target.value="",f.value=r.length,g.value=!0}catch(o){console.error("Import error:",o),alert("Error importing workouts. Please check the file format.")}},j=()=>{g.value=!1,f.value=0},W=e=>{k("start-workout",e)};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",ze,[(0,r.Lk)("div",Ye,[(0,r.Lk)("label",He,[(0,r.bF)((0,a.R1)(n.A),{class:"h-5 w-5 mr-2"}),t[0]||(t[0]=(0,r.eW)(" Import ")),(0,r.Lk)("input",{type:"file",accept:".json",class:"hidden",onChange:X},null,32)]),(0,r.Lk)("button",{onClick:I,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"},[(0,r.bF)((0,a.R1)(i.A),{class:"h-5 w-5 mr-2"}),t[1]||(t[1]=(0,r.eW)(" Export "))]),(0,r.Lk)("button",{onClick:b,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"},[(0,r.bF)((0,a.R1)(c.A),{class:"h-5 w-5 mr-2"}),t[2]||(t[2]=(0,r.eW)(" New Workout "))])]),s.value.length>0?((0,r.uX)(),(0,r.CE)("div",Ze,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.value,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"bg-white shadow rounded-lg overflow-hidden"},[(0,r.Lk)("div",et,[(0,r.Lk)("div",tt,[(0,r.Lk)("h3",st,(0,l.v_)(e.name||"Untitled Workout"),1),(0,r.Lk)("div",ot,[(0,r.Lk)("button",{onClick:t=>W(e),class:"text-secondary hover:text-primary",title:"Start workout"},[(0,r.bF)((0,a.R1)(u.A),{class:"h-5 w-5"})],8,rt),(0,r.Lk)("button",{onClick:t=>h(e),class:"text-secondary hover:text-primary"},[(0,r.bF)((0,a.R1)(d.A),{class:"h-5 w-5"})],8,at),(0,r.Lk)("button",{onClick:t=>L(e),class:"text-secondary hover:text-red-600"},[(0,r.bF)((0,a.R1)(m.A),{class:"h-5 w-5"})],8,lt)])]),(0,r.Lk)("div",nt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.sets,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"text-sm text-gray-600"},["rest"===e.type?((0,r.uX)(),(0,r.CE)("span",it," Rest: "+(0,l.v_)(S(e.restTime)),1)):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.eW)((0,l.v_)(e.name)+" - "+(0,l.v_)(e.count)+" sets of "+(0,l.v_)(e.reps)+" reps ",1),(0,r.Lk)("span",ct," ("+(0,l.v_)(S(e.restTime))+" rest between sets) ",1)],64))])))),128))])])])))),128))])):((0,r.uX)(),(0,r.CE)("div",ut,[(0,r.Lk)("div",dt,[(0,r.bF)((0,a.R1)(p.A),{class:"h-12 w-12 mx-auto"})]),t[3]||(t[3]=(0,r.Lk)("h3",{class:"font-display font-semibold"},"No workouts yet",-1)),t[4]||(t[4]=(0,r.Lk)("p",{class:"text-secondary mt-1"},"Create your first workout to get started",-1))])),v.value?((0,r.uX)(),(0,r.Wv)(Ge,{key:2,title:"Delete Workout",message:"Are you sure you want to delete the "+(x.value?.name||"untitled")+" workout?",mode:"confirm","confirm-text":"Delete","confirm-variant":"danger",onConfirm:C,onCancel:R},null,8,["message"])):(0,r.Q3)("",!0),g.value?((0,r.uX)(),(0,r.Wv)(Ge,{key:3,title:"Import Successful",message:"Successfully imported "+f.value+" workout"+(1!==f.value?"s":"")+".",mode:"alert","confirm-text":"OK","confirm-variant":"primary",onConfirm:j,onCancel:j},null,8,["message"])):(0,r.Q3)("",!0),o.value?((0,r.uX)(),(0,r.Wv)(Ne,{key:4,workout:y.value,onSave:w,onClose:_},null,8,["workout"])):(0,r.Q3)("",!0)]))}},pt=mt,yt=pt;var vt=s(340),xt=s(204);const gt={class:"min-h-screen bg-gray-100"},ft={class:"bg-white shadow-sm"},kt={class:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex items-center justify-between"},bt={class:"text-2xl font-display font-bold text-gray-900"},ht={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},wt={class:"bg-white shadow rounded-lg overflow-hidden"},Lt={class:"p-6"},Ct={key:0,class:"space-y-6"},Rt={class:"text-center"},Et={class:"text-2xl font-display font-semibold text-gray-900"},At={class:"mt-1 text-lg text-gray-600"},Ft={key:0,class:"text-sm text-gray-500"},Tt={key:0,class:"text-center"},_t={class:"mt-2 text-gray-600"},St={class:"flex justify-center"},It={key:1,class:"text-center py-12"},Xt={class:"text-primary mb-4"},jt={class:"mt-6 space-x-4"},Wt={class:"border-t border-gray-200 p-6 bg-gray-50"},Mt={class:"space-y-3"},Kt={key:0,class:"flex items-center text-sm"},Nt={key:1,class:"w-2 h-2 bg-current rounded-full"},Ot={key:1,class:"flex items-center text-sm pl-8"},Ut={__name:"WorkoutTracker",props:{workout:{type:Object,required:!0}},emits:["close"],setup(e){const t=e,s=new Audio,o=new Audio;let n=!1;(0,r.sV)((()=>{try{s.src="./sounds/alarm.mp3",o.src="./sounds/ticking.mp3",s.onerror=()=>console.log("Alarm sound failed to load"),o.onerror=()=>console.log("Ticking sound failed to load"),s.loop=!0,o.loop=!0,s.oncanplaythrough=()=>{s.oncanplaythrough=null,console.log("Alarm sound loaded")},o.oncanplaythrough=()=>{o.oncanplaythrough=null,console.log("Ticking sound loaded")},n=!0}catch(e){console.log("Error setting up sounds:",e),n=!1}}));const i=(0,a.KR)(0),c=(0,a.KR)(1),u=(0,a.KR)(!1),d=(0,a.KR)(0),m=(0,a.KR)(!1),p=(0,a.KR)(!1);let v=null;const x=(0,r.EW)((()=>t.workout.sets.filter((e=>"exercise"===e.type)))),g=(0,r.EW)((()=>{const e=Math.floor(i.value);return e<x.value.length?x.value[e]:null})),f=(0,r.EW)((()=>({"text-primary":d.value>5,"text-yellow-500":d.value<=5&&d.value>0,"text-red-500":0===d.value}))),k=e=>{const t=Math.floor(e/60),s=e%60;return`${t}:${s.toString().padStart(2,"0")}`},b=e=>{const t=Math.floor(e);return t<i.value?"bg-green-500":t===i.value?"border-2 border-primary text-primary":"border-2 border-gray-300 text-gray-300"},h=e=>{const t=Math.floor(e);return t<i.value?"text-gray-500 line-through":t===i.value?"text-gray-900 font-medium":"text-gray-500"},w=()=>{if(n)try{s.pause(),s.currentTime=0,o.pause(),o.currentTime=0}catch(e){console.log("Error stopping sounds:",e)}},L=e=>{if(n)try{"warning"===e?(o.currentTime=0,o.play().catch((e=>{console.log("Error playing ticking sound:",e)}))):"complete"===e&&(o.pause(),o.currentTime=0,s.currentTime=0,s.play().catch((e=>{console.log("Error playing alarm sound:",e)})))}catch(t){console.log(`Error attempting to play ${e} sound:`,t)}},C=()=>g.value?u.value?m.value?"Rest before next exercise":"Rest after Set "+(c.value-1):`${g.value.name} - Set ${c.value} of ${g.value.count}`:"",R=()=>p.value?`Finish Set ${c.value}`:`Start Set ${c.value}`,E=e=>{u.value=!0,d.value=e,v=setInterval((()=>{d.value>0&&(d.value--,5===d.value&&L("warning"),0===d.value&&(clearInterval(v),L("complete"),m.value?(m.value=!1,u.value=!1,p.value=!1):(u.value=!1,p.value=!1)))}),1e3)},A=()=>{w(),p.value=!0},F=()=>{if(w(),c.value<g.value.count)E(g.value.restTime),c.value++;else if(c.value=1,i.value++,i.value<x.value.length){const e=t.workout.sets.findIndex(((e,t)=>"exercise"===e.type&&Math.floor(t/2)===i.value-1)),s=t.workout.sets.find(((s,o)=>o>e&&o<t.workout.sets.length&&"rest"===s.type));s?(m.value=!0,p.value=!1,E(s.restTime)):(m.value=!1,p.value=!1)}},T=()=>{p.value?F():A()};return(0,r.hi)((()=>{v&&clearInterval(v),n&&(w(),s.src="",o.src="")})),(t,s)=>((0,r.uX)(),(0,r.CE)("div",gt,[(0,r.Lk)("header",ft,[(0,r.Lk)("div",kt,[(0,r.Lk)("h1",bt,(0,l.v_)(e.workout.name||"Workout"),1),(0,r.Lk)("button",{onClick:s[0]||(s[0]=e=>t.$emit("close")),class:"text-gray-400 hover:text-gray-500"},[(0,r.bF)((0,a.R1)(y.A),{class:"h-6 w-6"})])])]),(0,r.Lk)("main",ht,[(0,r.Lk)("div",wt,[(0,r.Lk)("div",Lt,[g.value||m.value?((0,r.uX)(),(0,r.CE)("div",Ct,[(0,r.Lk)("div",Rt,[(0,r.Lk)("h2",Et,(0,l.v_)(g.value.name),1),(0,r.Lk)("p",At,(0,l.v_)(C()),1),u.value||m.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",Ft,(0,l.v_)(g.value.reps)+" reps ",1))]),u.value?((0,r.uX)(),(0,r.CE)("div",Tt,[(0,r.Lk)("div",{class:(0,l.C4)(["text-6xl font-display font-bold",f.value])},(0,l.v_)(k(d.value)),3),(0,r.Lk)("p",_t,(0,l.v_)(m.value?"Rest before next exercise":"Rest between sets"),1)])):(0,r.Q3)("",!0),(0,r.Lk)("div",St,[u.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:T,class:"px-6 py-3 text-lg font-medium text-white bg-primary hover:bg-primary-dark rounded-md shadow-sm transition-colors"},(0,l.v_)(R()),1))])])):((0,r.uX)(),(0,r.CE)("div",It,[(0,r.Lk)("div",Xt,[(0,r.bF)((0,a.R1)(vt.A),{class:"h-16 w-16 mx-auto"})]),s[2]||(s[2]=(0,r.Lk)("h2",{class:"text-3xl font-display font-bold text-gray-900"}," Workout Complete! ",-1)),s[3]||(s[3]=(0,r.Lk)("p",{class:"mt-2 text-gray-600"},"Great job! You've finished your workout.",-1)),(0,r.Lk)("div",jt,[(0,r.Lk)("button",{onClick:s[1]||(s[1]=e=>t.$emit("close")),class:"px-6 py-3 text-lg font-medium text-white bg-primary hover:bg-primary-dark rounded-md shadow-sm transition-colors"}," Done ")])]))]),(0,r.Lk)("div",Wt,[s[4]||(s[4]=(0,r.Lk)("h3",{class:"text-sm font-medium text-gray-500 mb-4"},"Progress",-1)),(0,r.Lk)("div",Mt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.workout.sets,((e,t)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:e.id},["exercise"===e.type?((0,r.uX)(),(0,r.CE)("div",Kt,[(0,r.Lk)("div",{class:(0,l.C4)(["flex-shrink-0 w-5 h-5 rounded-full mr-3 flex items-center justify-center",b(Math.floor(t/2))])},[Math.floor(t/2)<i.value?((0,r.uX)(),(0,r.Wv)((0,a.R1)(xt.A),{key:0,class:"w-3 h-3 text-white"})):Math.floor(t/2)===i.value?((0,r.uX)(),(0,r.CE)("div",Nt)):(0,r.Q3)("",!0)],2),(0,r.Lk)("span",{class:(0,l.C4)(h(Math.floor(t/2)))},(0,l.v_)(e.name),3)])):((0,r.uX)(),(0,r.CE)("div",Ot,[(0,r.Lk)("span",{class:(0,l.C4)(["text-secondary italic",{"line-through":Math.floor(t/2)<i.value,"font-medium":Math.floor(t/2)===i.value&&m.value}])}," Rest: "+(0,l.v_)(k(e.restTime)),3)]))],64)))),128))])])])])]))}},Vt=Ut,$t=Vt,Dt={class:"min-h-screen bg-gray-100"},Jt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Pt={__name:"App",setup(e){const t=(0,a.KR)(null),s=e=>{console.log("Starting workout in App.vue:",e),t.value=e},o=document.createElement("link");return o.rel="stylesheet",o.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap",document.head.appendChild(o),(e,o)=>((0,r.uX)(),(0,r.CE)("div",Dt,[t.value?((0,r.uX)(),(0,r.Wv)($t,{key:1,workout:t.value,onClose:o[0]||(o[0]=e=>t.value=null)},null,8,["workout"])):((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[o[1]||(o[1]=(0,r.Lk)("header",{class:"bg-white shadow-sm"},[(0,r.Lk)("div",{class:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8"},[(0,r.Lk)("h1",{class:"text-2xl font-display font-bold text-gray-900"},"Workout Timer")])],-1)),(0,r.Lk)("main",Jt,[(0,r.bF)(yt,{onStartWorkout:s})])],64))]))}},Qt=Pt,Bt=Qt;var qt=s(723);(new Date).toISOString();let Gt=null;const zt=()=>{if(Gt)return;Gt=document.createElement("div"),Gt.style.position="fixed",Gt.style.bottom="0",Gt.style.left="0",Gt.style.right="0",Gt.style.backgroundColor="#3B82F6",Gt.style.color="white",Gt.style.padding="1rem",Gt.style.textAlign="center",Gt.style.zIndex="9999";const e=document.createElement("span");e.textContent="A new version is available! ",Gt.appendChild(e);const t=document.createElement("button");t.textContent="Update Now",t.style.marginLeft="1rem",t.style.padding="0.5rem 1rem",t.style.backgroundColor="white",t.style.color="#3B82F6",t.style.border="none",t.style.borderRadius="0.25rem",t.style.cursor="pointer",t.addEventListener("click",(()=>{window.location.reload()})),Gt.appendChild(t),document.body.appendChild(Gt)};{(0,qt.k)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(e){console.log("Service worker has been registered."),setInterval((()=>{e.update()}),36e5)},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(e){console.log("New content is available; please refresh."),zt(),e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"})},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});let e=!1;navigator.serviceWorker.addEventListener("controllerchange",(()=>{e||(e=!0,window.location.reload())}))}const Yt=(0,o.Ef)(Bt);Yt.mount("#app")}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,s),a.exports}s.m=e,(()=>{var e=[];s.O=(t,o,r,a)=>{if(!o){var l=1/0;for(u=0;u<e.length;u++){for(var[o,r,a]=e[u],n=!0,i=0;i<o.length;i++)(!1&a||l>=a)&&Object.keys(s.O).every((e=>s.O[e](o[i])))?o.splice(i--,1):(n=!1,a<l&&(l=a));if(n){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,r,a]}})(),(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[l,n,i]=o,c=0;if(l.some((t=>0!==e[t]))){for(r in n)s.o(n,r)&&(s.m[r]=n[r]);if(i)var u=i(s)}for(t&&t(o);c<l.length;c++)a=l[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},o=self["webpackChunkworkout_timer"]=self["webpackChunkworkout_timer"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=s.O(void 0,[504],(()=>s(885)));o=s.O(o)})();
//# sourceMappingURL=app.9ccfe273.js.map